---
title: הסר כפילויות לפני איחוד נתונים
description: השלב השני בתהליך האיחוד הוא בחירת הרשומה שברצונך לשמור כאשר יימצאו כפילויות.
recommendations: false
ms.date: 08/01/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: v-wendysmith
ms.author: sstabbert
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-map
- ci-match
- customerInsights
ms.openlocfilehash: 3f84c1c149f0befcbe489ccdd8a666ce6d5d798a
ms.sourcegitcommit: 267c317e10166146c9ac2c30560c479c9a005845
ms.translationtype: HT
ms.contentlocale: he-IL
ms.lasthandoff: 08/16/2022
ms.locfileid: "9304474"
---
# <a name="remove-duplicates-before-unifying-data"></a>הסר כפילויות לפני איחוד נתונים

שלב אופציונלי זה באיחוד מאפשר לך להגדיר כללים לביטול רשומות כפולות **בתוך** ישות. ביטול כפילויות מזהה מספר רשומות עבור לקוח ובוחרת את הרשומה הטובה ביותר לשמירה (בהתבסס על העדפות מיזוג בסיסיות) או ממזגת את הרשומות לרשומה אחת (בהתבסס על העדפות מיזוג מתקדמות). רשומות המקור נקשרות לרשומה הממוזגת עם מזהים חלופיים. אם כללים אינם מוגדרים, כללים שמוגדרים על ידי המערכת יחולו.

## <a name="default-deduplication"></a>ביטול כפילויות המוגדרת כברירת מחדל

אם לא מוגדרים כללי ביטול כפילויות, מוחלים הכללים המוגדרים על-ידי המערכת.

- הכפילות של המפתח הראשי מבוטלת.
  עבור כל רשומה עם אותו מפתח ראשי, הרשומה **המלאה ביותר**  (זה עם הכי פחות ערכי אפס) היא המנצחת.
- כל כללי התאמה בין ישויות מוחלים על הישות.
  לדוגמה: בשלב ההתאמה, אם ישות א' מותאמת לישות ב' בערכים *FullName* ו *DateofBirth*, אז גם ישות A עוברת ביטול כפוליות לפי *FullName* ו *DateofBirth*. מכיוון ש- *FullName* ו *DateofBirth* הם מפתחות תקפים לזיהוי לקוח בישות א', מפתחות אלו תקפים גם לזיהוי לקוחות כפולים בישות א'.

## <a name="include-enriched-entities-preview"></a>כלול ישויות מועשרות (Preview)

אם העשרת ישויות ברמת מקור הנתונים כדי לעזור לשפר את תוצאות האיחוד, בחר בהן. למידע נוסף, ראה [העשרה עבור מקורות נתונים](data-sources-enrichment.md).

1. בדף **רשומות כפולות**, בחר **השתמש בישויות מועשרות** בראש הדף.

1. מחלונית **השתמש בישויות מועשרות**, בחר ישות מועשרת אחת או יותר.

1. בחר **סיום**.

## <a name="define-deduplication-rules"></a>הגדר כללים לביטול כפילויות

1. בדף **רשומות כפולות**, בחר ישות ובחר **הוסף כלל** כדי להגדיר את הכללים לביטול כפילויות.

   :::image type="content" source="media/m3_duplicates_showmore.png" alt-text="צילום מסך של דף רשומות כפולות עם ישות מודגשת הצגה של 'הוסף' כלל"  lightbox="media/m3_duplicates_showmore.png":::

   1. בחלונית **הוסף כלל** הזן את הפרטים הבאים:
      - **בחר שדה**: בחר מרשימת השדות הזמינים מהישות שברצונך לבדוק כפילויות. בחר שדות שעשויים להיות ייחודיים עבור כל לקוח יחיד. לדוגמה, כתובת דואר, או השילוב של שם, עיר ומספר טלפון.
      - **נרמל**: בחר מבין אפשרויות הנרמול הבאות עבור התכונות שנבחרו.
        - **ספרות**: ממיר מערכות ספרות אחרות, כגון ספרות רומיות, לספרות בערבית. *VIII* הופך להיות *8*.
        - **סמלים**: מסיר את כל הסמלים והתווים המיוחדים. *ראש&כתף* הופך להיות *ראשכתף*.
        - **טקסט לאותיות קטנות: ממיר את כל התווים לאותיות קטנות**. *ALL CAPS and Title Case* הופך להיות *all caps and title case*.
        - **סוג (טלפון, שם, כתובת, ארגון)**: מבצע תקנון של שמות, תפקידים, מספרי טלפון, כתובות ועוד.
        - **Unicode ל- ASCII**: ממיר את סימון ה- Unicode לתווי ASCII. */u00B2* הופך להיות *2*.
        - **רווח לבן**: מסיר את כל הרווחים. *שלום   עולם* הופך להיות *שלוםעולם*.
      - **דיוק**: מגדיר את רמת הדיוק להחלה עבור תנאי זה.
        - **בסיסי**: בחר בין *נמוך (30%)*, *בינוני (60%)*, *גבוה (80%)*, או *מדויק (100%)*. בחר **מדויקת** כדי להתאים רק רשומות עם התאמה של 100%.
        - **מותאם אישית**: הגדר אחוז התאמה רצוי עבור רשומות. המערכת תתאים רק רשומות שעוברות ערך סף זה.
      - **שם**: שם הכלל.

      :::image type="content" source="media/m3_duplicates_add.png" alt-text="צילום מסך של חלונית 'הוסף כלל' להסרת כפילויות.":::

   1. לחלופין, בחר **הוסף** > **הוסף תנאי** כדי להוסיף תנאים נוספים לכלל. התנאים קשורים לאופרטור AND לוגי וכך הם מופעלים רק אם כל התנאים מתקיימים.

   1. לחלופין, **הוסף** > **הוסף חריגה** כדי [להוסיף חריגים לכלל](match-entities.md#add-exceptions-to-a-rule). חריגים משמשים לטיפול במקרים נדירים של תוצאות חיוביות מוטעות ותוצאות שליליות מוטעות.

   1. בחר **בוצע** כדי ליצור את הכלל.

1. לבחירתך, [הוסף כללים נוספים](#define-deduplication-rules).

1. בחר ישות ולאחר מכן **ערוך העדפות מיזוג**.

1. בחלונית **מיזוג העדפות**:
   1. בחר אחת משלוש אפשרויות כדי לקבוע איזו רשומה לשמור אם תימצא כפילות:
      - **הכי הרבה אנשים מילאו**: מזהה את הרשומה עם הכי הרבה שדות תכונה מאוכלסים כרשומה המנצחת. זוהי אפשרות המיזוג של ברירת המחדל.
      - **החדשים ביותר**: מזהה את הרשומה המנצחת בהתבסס על העדכניות. דורש תאריך או שדה מספרי להגדרת העדכניות.
      - **הישנים ביותר**: מזהה את הרשומה המנצחת בהתבסס על העדכניות הנמוכה ביותר. דורש תאריך או שדה מספרי להגדרת העדכניות.

      במקרה של תיקו, הרשומה שתישאר היא זו עם MAX(PK)‎ או ערך המפתח הראשי הגדול יותר.

   1. לחלופין, כדי להגדיר העדפות מיזוג על תכונות בודדות של ישות, בחר **מתקדם** בחלק התחתון של החלונית. לדוגמה, אתה יכול לבחור לשמור את הדואר האלקטרוני העדכני ביותר ואת הכתובת המלאה ביותר מרשומות שונות. הרחב את הישות כדי לראות את כל התכונות שלה ולהגדיר באיזו אפשרות להשתמש עבור תכונות בודדות. אם תבחר באפשרות מבוססת עדכניות, עליך לציין גם שדה תאריך/שעה שמגדיר את העדכניות.

      :::image type="content" source="media/m3_adv_merge.png" alt-text="חלונית העדפות מיזוג מתקדמות המציגה את הדואר העדכני ביותר ואת הכתובת המלאה":::

   1. בחר **בוצע** כדי להחיל את העדפות המיזוג שבחרת.

1. לאחר הגדרת כללי מניעת הכפילויות והעדפות המיזוג, בחר **הבא**.
  
> [!div class="nextstepaction"]
> [השלב הבא עבור ישות אחת: איחוד שדות](merge-entities.md)

> [!div class="nextstepaction"]
> [השלב הבא עבור ישויות מרובות: תנאי התאמה](match-entities.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
