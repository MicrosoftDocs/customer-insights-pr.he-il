---
title: ניסויי Machine Learning Studio (קלאסי)
description: השתמש במודלים של Machine Learning Studio (קלאסי) ב- Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: m-hartmann
ms.author: ameetj
ms.reviewer: mhart
manager: shellyha
ms.openlocfilehash: 71881f7e1f9448fe0a7d6d92b8102b8b42de7c2a
ms.sourcegitcommit: bae40184312ab27b95c140a044875c2daea37951
ms.translationtype: HT
ms.contentlocale: he-IL
ms.lasthandoff: 03/15/2021
ms.locfileid: "5598340"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a><span data-ttu-id="fc1b5-103">שימוש במודלים המבוססים על Azure Machine Learning Studio (קלאסי)</span><span class="sxs-lookup"><span data-stu-id="fc1b5-103">Use models based on Azure Machine Learning Studio (classic)</span></span>

<span data-ttu-id="fc1b5-104">הנתונים המאוחדים ב- Dynamics 365 Customer Insights הם מקור לבניית מודלי למידת מכונה שיכולים ליצור תובנות עסקיות נוספות.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-104">The unified data in Dynamics 365 Customer Insights is a source for building machine learning models that can generate additional business insights.</span></span> <span data-ttu-id="fc1b5-105">Customer Insights משתלב עם Machine Learning Studio (קלאסי) כדי להשתמש במודלים המותאמים אישית שלך.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-105">Customer Insights integrates with Machine Learning Studio (classic) to use your own custom models.</span></span> <span data-ttu-id="fc1b5-106">כדי לראות כיצד מודלים שפותחו ב- Azure Machine Learning משולבים עם Customer Insights, ראה [ניסויי Azure Machine Learning](azure-machine-learning-experiments.md).</span><span class="sxs-lookup"><span data-stu-id="fc1b5-106">To see how models developed in Azure Machine Learning are integrated with Customer Insights, see [Azure Machine Learning experiments](azure-machine-learning-experiments.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="fc1b5-107">דרישות מוקדמות</span><span class="sxs-lookup"><span data-stu-id="fc1b5-107">Prerequisites</span></span>

- <span data-ttu-id="fc1b5-108">גישה ל- Customer Insights</span><span class="sxs-lookup"><span data-stu-id="fc1b5-108">Access to Customer Insights</span></span>
- <span data-ttu-id="fc1b5-109">מנוי Azure Enterprise</span><span class="sxs-lookup"><span data-stu-id="fc1b5-109">Active Azure Enterprise subscription</span></span>
- [<span data-ttu-id="fc1b5-110">פרופילי לקוחות מאוחדים</span><span class="sxs-lookup"><span data-stu-id="fc1b5-110">Unified customer profiles</span></span>](data-unification.md)
- <span data-ttu-id="fc1b5-111">הגדרת [ייצוא ישויות לאחסון Azure Blob](export-azure-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="fc1b5-111">[Entity export to Azure Blob storage](export-azure-blob-storage.md) set up</span></span>

## <a name="set-up-machine-learning-studio-classic"></a><span data-ttu-id="fc1b5-112">הגדרת Machine Learning Studio Classic</span><span class="sxs-lookup"><span data-stu-id="fc1b5-112">Set up Machine Learning Studio Classic</span></span>

<span data-ttu-id="fc1b5-113">בשלב ראשון, עלינו ליצור סביבת עבודה עבור Machine Learning Studio (קלאסי) ולפתוח אותו.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-113">In a first step, we need to create a workspace for and open the Machine Learning Studio (classic).</span></span>

1. <span data-ttu-id="fc1b5-114">עבור אל[https://www.portal.azure.com](https://www.portal.azure.com/) והיכנס.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-114">Go to [https://www.portal.azure.com](https://www.portal.azure.com/) and sign in.</span></span>

1. <span data-ttu-id="fc1b5-115">בחר **יצירת משאב**.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-115">Select **Create a resource**.</span></span>

1. <span data-ttu-id="fc1b5-116">חפש **סביבת העבודה לסטודיו למידת מכונה** ובחר **צור**.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-116">Search **Machine Learning Studio Workspace** and select **Create**.</span></span>

1. <span data-ttu-id="fc1b5-117">הזן את הפרטים הנדרשים כדי [ליצור את סביבת העבודה](/azure/machine-learning/studio/create-workspace).</span><span class="sxs-lookup"><span data-stu-id="fc1b5-117">Enter the required details to [create the workspace](/azure/machine-learning/studio/create-workspace).</span></span> <span data-ttu-id="fc1b5-118">בחר את **שכבת תמחור תוכנית של שירות אינטרנט** המבוססת על כמות הנתונים שבכוונך לייבא.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-118">Choose the **Web service plan pricing tier** based on the amount of data you plan to import.</span></span> <span data-ttu-id="fc1b5-119">לקבלת הביצועים הטובים ביותר, בחר את **המיקום** הכי קרוב מבחינתך.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-119">For best performance, select the **Location** that is geographically closest to you.</span></span>

1. <span data-ttu-id="fc1b5-120">לאחר יצירת המשאב יופיע לוח המחוונים של סביבת העבודה של סטודיו ללמידת מכונה.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-120">After creating the resource, the Machine Learning Studio workspace dashboard will appear.</span></span> <span data-ttu-id="fc1b5-121">בחר **הפעל את סטודיו ללמידת מכונה**.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-121">Select **Launch Machine Learning Studio**.</span></span>

   ![ממשק משתמש של סטודיו למידת מכונה של Azure](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a><span data-ttu-id="fc1b5-123">עבוד עם הסטודיו ללמידת מכונה של Azure</span><span class="sxs-lookup"><span data-stu-id="fc1b5-123">Work with Azure Machine Learning Studio</span></span>

<span data-ttu-id="fc1b5-124">כעת תוכל ליצור ניסוי חדש או לייבא תבנית ניסוי קיימת מגלריית הדוגמאות.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-124">You can now create a new experiment, or import an existing experiment template from the sample gallery.</span></span> <span data-ttu-id="fc1b5-125">קיימים ניסויים לדוגמה עבור שלושה תרחישים סטנדרטיים:</span><span class="sxs-lookup"><span data-stu-id="fc1b5-125">There are sample experiments for three standard scenarios:</span></span>

- [<span data-ttu-id="fc1b5-126">חיזוי נטישה</span><span class="sxs-lookup"><span data-stu-id="fc1b5-126">Churn prediction</span></span>](#churn-analysis)

- [<span data-ttu-id="fc1b5-127">ערך אורך חיים של לקוח</span><span class="sxs-lookup"><span data-stu-id="fc1b5-127">Customer lifetime value</span></span>](#customer-lifetime-value-prediction)

- [<span data-ttu-id="fc1b5-128">המלצה על מוצר או על הפעולה הבאה הטובה ביותר</span><span class="sxs-lookup"><span data-stu-id="fc1b5-128">Product recommendation or next best action</span></span>](#productrecommendation-or-next-best-action)

1. <span data-ttu-id="fc1b5-129">אם אתה יוצר ניסוי חדש או משתמש בתבנית ניסוי מהגלריה, עליך להגדיר את הAzure **ייבא נתונים**.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-129">If you create a new experiment or use an experiment template from the gallery, you need to configure the **Import Data** properties.</span></span> <span data-ttu-id="fc1b5-130">השתמש בחוויה המודרכת או ספק ישירות פרטים כדי לגשת ל- Azure Blob Storage שמכיל את הנתונים שלך.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-130">Use the guided experience or directly provide details to access the Azure Blob Storage that contains your data.</span></span>  

   ![ניסוי של הסטודיו ללמידת מכונה של Azure](media/azure-machine-learning-studio-experiment.png)

1. <span data-ttu-id="fc1b5-132">כעת תוכל לבנות קו צינור לעיבוד בהתאמה אישית כדי לנקות ולעבד את הנתונים מראש, לחלץ תכונות ולאמן מודל מתאים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-132">Now you can build a custom processing pipeline to clean and preprocess the data, extract features, and train a suitable model.</span></span>

1. <span data-ttu-id="fc1b5-133">בדוק ובצע אופטימיזציה של ביצועי המודל.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-133">Test and optimize the model performance.</span></span>

1. <span data-ttu-id="fc1b5-134">כאשר תהיה מרוצה מאיכות המודל, בחר **הגדר שירות אינטרנט** > **שירות אינטרנט חזוי**.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-134">When you’re satisfied with the quality of a model, select **Set up web service** > **Predictive Web Service**.</span></span> <span data-ttu-id="fc1b5-135">אפשרות זו מייבאת את המודל שעבר אימון ואת קו הצינור מניסוי האימון לשירות חיזוי.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-135">This option imports the trained model and the featurization pipeline from the training experiment to a predictive service.</span></span> <span data-ttu-id="fc1b5-136">שירות החיזוי יכול לקחת קבוצה נוספת של נתוני קלט בעזרת הסכימה המשמשת בניסוי האימונים כדי לבצע תחזיות.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-136">The predictive service can take another set of input data with the schema used in the training experiment to make predictions.</span></span>

   ![הגדר שירות אינטרנט חזוי](media/predictive-webservice-control.png)

1. <span data-ttu-id="fc1b5-138">לאחר שהניסוי בשירות האינטרנט החזוי יצליח, תוכל לפרוס אותו לתזמון אוטומטי.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-138">Once the predictive web service experiment is successful, you can deploy it for auto scheduling.</span></span> <span data-ttu-id="fc1b5-139">כדי ששירות האינטרנט יעבוד עם Customer Insights, בחר **פרוס שירות אינטרנט** > **פרוס תצוגה מקדימה של שירות אינטרנט [חדש]**.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-139">To have the web service work with Customer Insights, select **Deploy Web Service** > **Deploy Web Service [New] Preview**.</span></span> <span data-ttu-id="fc1b5-140">[קבל מידע נוסף על יכולות שירות האינטרנט](/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span><span class="sxs-lookup"><span data-stu-id="fc1b5-140">[Learn more about deploying a web service](/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span></span>

   ![פרוס שירות אינטרנט חזוי](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a><span data-ttu-id="fc1b5-142">מודלים לדוגמה מהגלריה</span><span class="sxs-lookup"><span data-stu-id="fc1b5-142">Sample models from the gallery</span></span>

<span data-ttu-id="fc1b5-143">במאמר זה נשתמש בתרחיש פיקטיבי של מלון עבור המודלים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-143">We'll use a fictitious scenario of Contoso Hotel for the models in this article.</span></span> <span data-ttu-id="fc1b5-144">מלון קונטוסו אוסף את הנתונים הבאים:</span><span class="sxs-lookup"><span data-stu-id="fc1b5-144">Contoso Hotel gathers the following data:</span></span>

- <span data-ttu-id="fc1b5-145">נתוני CRM המורכבים מפעילות שהות במלון.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-145">CRM data consisting of hotel stay activity.</span></span> <span data-ttu-id="fc1b5-146">ערכת הנתונים כוללת מידע על מועדי השהות עבור כל לקוח רשום.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-146">The data set includes information about the dates of stay for each registered customer.</span></span> <span data-ttu-id="fc1b5-147">היא מכילה גם מידע על ההזמנה, סוגי החדרים, פרטי ההוצאות וכן הלאה.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-147">It also contains information about the booking, room types, details of spend, and so on.</span></span> <span data-ttu-id="fc1b5-148">הנתונים מייצגים ארבע שנים, מינואר 2014 ועד ינואר 2018.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-148">The data spans four years, from January 2014 to January 2018.</span></span>
- <span data-ttu-id="fc1b5-149">פרופילי לקוחות של אורחי המלון.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-149">Customer profiles of hotel guests.</span></span> <span data-ttu-id="fc1b5-150">פרופילים אלה מכילים מידע על כל לקוח, כולל שם, תאריך לידה, כתובת דואר, מין ומספר טלפון.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-150">These profiles contain information about each customer, including their name, birthdate, postal address, gender, and phone number.</span></span>
- <span data-ttu-id="fc1b5-151">שימוש בשירותים שמציע המלון, כגון ספא, כביסה, WiFi או שליח.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-151">Usage of services offered by the hotel, such as the spa, laundry, WiFi, or courier.</span></span> <span data-ttu-id="fc1b5-152">מידע זה נרשם עבור כל לקוח רשום.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-152">This information is logged for each registered customer.</span></span> <span data-ttu-id="fc1b5-153">בדרך כלל, השימוש בשירותים מקושר לשהות.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-153">Typically, use of services is linked with the stay.</span></span> <span data-ttu-id="fc1b5-154">במקרים מסוימים, השירותים יכולים לשמש את הלקוחות מבלי להישאר במלון.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-154">In some cases, services can be used by customers without staying in the hotel.</span></span>

## <a name="churn-analysis"></a><span data-ttu-id="fc1b5-155">ניתוח שיעורי נטישה</span><span class="sxs-lookup"><span data-stu-id="fc1b5-155">Churn Analysis</span></span>

<span data-ttu-id="fc1b5-156">ניתוח שיעורי נטישה חל על תחומי עסקים שונים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-156">Churn analysis applies to different business areas.</span></span> <span data-ttu-id="fc1b5-157">בדוגמה זו, נבחן את נטישת השירות, במיוחד בהקשר של שירותי מלונות כמתואר לעיל.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-157">In this example, we’re going to look at service churn, specifically in the context of hotel services as described above.</span></span> <span data-ttu-id="fc1b5-158">זוהי דוגמה לקו צינור של מודל מקצה לקצה שיכול לשמש כנקודת התחלה עבור כל סוג אחר של דגם הנטישה.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-158">It provides a working example of an end–to–end model pipeline that can be used as a starting point for any other type of churn model.</span></span>

### <a name="definition-of-churn"></a><span data-ttu-id="fc1b5-159">הגדרה של נטישה</span><span class="sxs-lookup"><span data-stu-id="fc1b5-159">Definition of Churn</span></span>

<span data-ttu-id="fc1b5-160">הגדרת הנטישה יכולה להיות שונה בהתבסס על התרחיש.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-160">The definition of churn can differ based on the scenario.</span></span> <span data-ttu-id="fc1b5-161">בדוגמה זו, אורח שלא ביקר במלון בשנה האחרונה צריך להיות מסומן כאורח שנטש.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-161">In this example, a guest who hasn’t visited the hotel in the past year should be labeled as churned.</span></span>  

<span data-ttu-id="fc1b5-162">ניתן לייבא את תבנית הניסוי מהגלריה.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-162">The experiment template can be imported from the gallery.</span></span> <span data-ttu-id="fc1b5-163">ראשית, ודא שאתה מייבא את הנתונים עבור **פעילות השהות במלון**, **נתוני לקוחות**, ו **נתוני שימוש בשירות** מאחסון Azure Blob.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-163">First, ensure that you import the data for **Hotel Stay Activity**, **Customer data**, and **Service Usage Data** from Azure Blob storage.</span></span>

   ![ייבא נתונים עבור מודל הנטישה](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a><span data-ttu-id="fc1b5-165">יצירת תכונות</span><span class="sxs-lookup"><span data-stu-id="fc1b5-165">Featurization</span></span>

<span data-ttu-id="fc1b5-166">בהתבסס על הגדרת הנטישה, אנו מזהים תחילה את התכונות הגולמיות שישפיעו על התווית.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-166">Based on the definition of churn, we first identify the raw features that will influence the label.</span></span> <span data-ttu-id="fc1b5-167">לאחר מכן אנו מעבדים תכונות גולמיות אלה לתכונות מספריות שניתן להשתמש בהן במודלים של למידת מכונה.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-167">Then, we process these raw features into numerical features that can be used with machine learning models.</span></span> <span data-ttu-id="fc1b5-168">שילוב נתונים מתרחש ב- Customer Insights כך שאנחנו יכולים לצרף טבלאות אלה באמצעות *מזהה הלקוח*.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-168">Data integration happens in Customer Insights so we can join these tables by using the *Customer ID*.</span></span>

   ![צירוף נתונים מיובאים](media/join-imported-data.png)

<span data-ttu-id="fc1b5-170">התכונות לבניית המודל לניתוח נטישה יכולות להיות מעט מתוחכמות.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-170">The featurization for building the model for churn analysis can be a little tricky.</span></span> <span data-ttu-id="fc1b5-171">הנתונים הם פונקציה של זמן עם פעילות מלון חדשה שנרשמת על בסיס יומי.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-171">The data is a function of time with new hotel activity recorded on daily basis.</span></span> <span data-ttu-id="fc1b5-172">במהלך יצירת התכונות, אנו רוצים ליצור תכונות סטטיות מהנתונים הדינמיים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-172">During featurization, we want to generate static features from the dynamic data.</span></span> <span data-ttu-id="fc1b5-173">במקרה זה, אנו מייצרים מספר תכונות מפעילות במלון עם חלון של שנה.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-173">In this case, we generate multiple features from hotel activity with a sliding window of one year.</span></span> <span data-ttu-id="fc1b5-174">אנו גם מרחיבים את התכונות הקטגוריות כמו סוג החדר או סוג ההזמנה לתכונות נפרדות באמצעות קידוד.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-174">We also expand the categorical features like room type or booking type into separate features using one-hot encoding.</span></span>  

<span data-ttu-id="fc1b5-175">רשימת התכונות הסופית:</span><span class="sxs-lookup"><span data-stu-id="fc1b5-175">Final list of features:</span></span>

| <span data-ttu-id="fc1b5-176">**מספר**</span><span class="sxs-lookup"><span data-stu-id="fc1b5-176">**Number**</span></span>  | <span data-ttu-id="fc1b5-177">**Original_Column**</span><span class="sxs-lookup"><span data-stu-id="fc1b5-177">**Original_Column**</span></span>          | <span data-ttu-id="fc1b5-178">**תכונות נגזרות**</span><span class="sxs-lookup"><span data-stu-id="fc1b5-178">**Derived Features**</span></span>                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="fc1b5-179">1</span><span class="sxs-lookup"><span data-stu-id="fc1b5-179">1</span></span>           | <span data-ttu-id="fc1b5-180">סוג חדר</span><span class="sxs-lookup"><span data-stu-id="fc1b5-180">Room Type</span></span>                    | <span data-ttu-id="fc1b5-181">RoomTypeLargeCount, RoomTypeSmallCount</span><span class="sxs-lookup"><span data-stu-id="fc1b5-181">RoomTypeLargeCount, RoomTypeSmallCount</span></span>                                                                                                    |
| <span data-ttu-id="fc1b5-182">2</span><span class="sxs-lookup"><span data-stu-id="fc1b5-182">2</span></span>           | <span data-ttu-id="fc1b5-183">סוג הזמנה</span><span class="sxs-lookup"><span data-stu-id="fc1b5-183">Booking Type</span></span>                 | <span data-ttu-id="fc1b5-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span><span class="sxs-lookup"><span data-stu-id="fc1b5-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span></span>                                                                                         |
| <span data-ttu-id="fc1b5-185">3</span><span class="sxs-lookup"><span data-stu-id="fc1b5-185">3</span></span>           | <span data-ttu-id="fc1b5-186">קטגוריית נסיעות</span><span class="sxs-lookup"><span data-stu-id="fc1b5-186">Travel Category</span></span>              | <span data-ttu-id="fc1b5-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span><span class="sxs-lookup"><span data-stu-id="fc1b5-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span></span>                                                                                   |
| <span data-ttu-id="fc1b5-188">4</span><span class="sxs-lookup"><span data-stu-id="fc1b5-188">4</span></span>           | <span data-ttu-id="fc1b5-189">סכום שהוצא בדולר</span><span class="sxs-lookup"><span data-stu-id="fc1b5-189">Dollars Spent</span></span>                | <span data-ttu-id="fc1b5-190">TotalDollarSpent</span><span class="sxs-lookup"><span data-stu-id="fc1b5-190">TotalDollarSpent</span></span>                                                                                                                          |
| <span data-ttu-id="fc1b5-191">5</span><span class="sxs-lookup"><span data-stu-id="fc1b5-191">5</span></span>           | <span data-ttu-id="fc1b5-192">תאריכי צ'ק-אין וצ'ק-אאוט</span><span class="sxs-lookup"><span data-stu-id="fc1b5-192">Check-in and Checkout dates</span></span>  | <span data-ttu-id="fc1b5-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span></span> <span data-ttu-id="fc1b5-194">StayCount2015, StayCount2014</span><span class="sxs-lookup"><span data-stu-id="fc1b5-194">StayCount2015, StayCount2014</span></span>                |
| <span data-ttu-id="fc1b5-195">6</span><span class="sxs-lookup"><span data-stu-id="fc1b5-195">6</span></span>           | <span data-ttu-id="fc1b5-196">שימוש בשירות</span><span class="sxs-lookup"><span data-stu-id="fc1b5-196">Service Usage</span></span>                | <span data-ttu-id="fc1b5-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span><span class="sxs-lookup"><span data-stu-id="fc1b5-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span></span>  |

### <a name="model-selection"></a><span data-ttu-id="fc1b5-198">בחירה במודל</span><span class="sxs-lookup"><span data-stu-id="fc1b5-198">Model selection</span></span>

<span data-ttu-id="fc1b5-199">כעת עלינו לבחור באלגוריתם האופטימלי לשימוש.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-199">Now we need to choose the optimal algorithm to use.</span></span> <span data-ttu-id="fc1b5-200">במקרה זה, רוב התכונות מבוססות על תכונות קטגוריות.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-200">In this case, most features are based on categorical features.</span></span> <span data-ttu-id="fc1b5-201">בדרך כלל, מודלים מבוססי עץ החלטה עובדים היטב.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-201">Typically, decision tree–based models work well.</span></span> <span data-ttu-id="fc1b5-202">אם יש רק מאפיינים מספריים, רשתות נוירונים יכולות להיות בחירה טובה יותר.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-202">If there are only numerical features, neural networks could be a better choice.</span></span> <span data-ttu-id="fc1b5-203">מכונת וקטור תמיכה (SVM) גם היא מועמדת טובה במצבים כאלה; עם זאת, צריך לא מעט כוונון כדי להפיק את הביצועים הטובים ביותר.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-203">Support vector machine (SVM) also is a good candidate in such situations; however, it needs quite a bit of tuning to extract the best performance.</span></span> <span data-ttu-id="fc1b5-204">אנחנו בוחרים **עץ החלטות משופר עם שתי מחלקות** כמודל הראשון ואחריו **SVM עם שתי מחלקות** כמודל השני.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-204">We choose **Two-Class Boosted Decision Tree** as the first model of choice followed by **Two-Class SVM** as the second model.</span></span> <span data-ttu-id="fc1b5-205">Azure Machine Learning Studio מאפשר לך לבצע בדיקות A/B, כך שכדאי להתחיל עם שני מודלים ולא עם אחד.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-205">Azure Machine Learning Studio lets you do A/B testing, so it’s beneficial to start with two models rather than one.</span></span>

<span data-ttu-id="fc1b5-206">התמונה הבאה מציגה את קו הצינור לאימון והערכה של המודל מהסטודיו ללמידת מכונה של Azure:</span><span class="sxs-lookup"><span data-stu-id="fc1b5-206">The following image shows the model training and evaluation pipeline from Azure Machine Learning Studio:</span></span>

![מודל נטישה בסטודיו למידת מכונה של Azure](media/azure-machine-learning-model.png)

<span data-ttu-id="fc1b5-208">אנו מיישמים גם טכניקה הנקראת **חשיבות תכונת הפרמוטציה**, היבט חשוב באופטימיזציה של המודל.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-208">We also apply a technique called **Permutation Feature Importance**, an important aspect of model optimization.</span></span> <span data-ttu-id="fc1b5-209">לדגמים המוכללים אין מעט תובנות לגבי ההשפעה של תכונה ספציפית כלשהי על החיזוי הסופי.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-209">Built-in models have little to no insight into the impact of any specific feature on the final prediction.</span></span> <span data-ttu-id="fc1b5-210">מחשבון חשיבות התכונות משתמש באלגוריתם מותאם אישית כדי לחשב את ההשפעה של תכונות בודדות על התוצאה עבור מודל ספציפי.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-210">The feature importance calculator uses a custom algorithm to compute the influence of individual features on the outcome for a specific model.</span></span> <span data-ttu-id="fc1b5-211">חשיבות התכונות מנורמלת בין ‎ +1 לבין ‎-1.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-211">The feature importance is normalized between +1 to -1.</span></span> <span data-ttu-id="fc1b5-212">השפעה שלילית פירושה שלתכונה המקבילה יש השפעה שלילית על התוצאה ויש להסיר אותה מהמודל.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-212">A negative influence means the corresponding feature has counter-intuitive influence on the outcome and should be removed from the model.</span></span> <span data-ttu-id="fc1b5-213">השפעה חיובית מצביעה על כך שהתכונה תורמת רבות לחיזוי.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-213">A positive influence indicates the feature is contributing heavily towards the prediction.</span></span> <span data-ttu-id="fc1b5-214">ערכים אלה אינם מקדמי מתאם מכיוון שהם מדדים שונים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-214">These values aren't correlation coefficients as they are different metrics.</span></span> <span data-ttu-id="fc1b5-215">למידע נוסף, ראה [חשיבות תכונת הפרמוטציה](/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span><span class="sxs-lookup"><span data-stu-id="fc1b5-215">For more information, see [Permutation Feature Importance](/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span></span>

<span data-ttu-id="fc1b5-216">כל [ניסוי הנטישה זמין בגלריית ה- AI של Azure](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span><span class="sxs-lookup"><span data-stu-id="fc1b5-216">The entire [churn experiment is available in the Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span></span>

## <a name="customer-lifetime-value-prediction"></a><span data-ttu-id="fc1b5-217">חיזוי ערך אורך חיים של לקוח</span><span class="sxs-lookup"><span data-stu-id="fc1b5-217">Customer lifetime value prediction</span></span>

<span data-ttu-id="fc1b5-218">חישוב של ערך חיי הלקוח (CLTV) הוא אחד ממדדי המפתח שבהם עסק יכול להשתמש כדי להעריך ולפלח את לקוחותיו.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-218">The customer lifetime value (CLTV) calculation is one of the key metrics that a business can use to assess and segment its customers.</span></span> <span data-ttu-id="fc1b5-219">לעסקי מלונות, חשוב מאד להכיר את הלקוחות שלהם.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-219">For the hotel business, it’s critical to know their customers.</span></span> <span data-ttu-id="fc1b5-220">לדוגמה, הבנת גורמים שיוצרים לקוחות טובים היא מידע מכריע.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-220">For example, understanding factors that make up good customers is crucial information.</span></span> <span data-ttu-id="fc1b5-221">זה עוזר להנהלת המלון להעריך באילו תכונות הם צריכים להתמקד ולשפר כדי לשפר את שביעות רצונם של הלקוחות המשלמים סכומים גבוהים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-221">It helps the hotel management assess which features they need to focus on and improve to satisfy their high paying customers.</span></span> <span data-ttu-id="fc1b5-222">החלטות אלה יכולות להשפיע ישירות על המכירות והרווחים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-222">These decisions can have a direct impact on sales and earnings.</span></span>  

### <a name="definition-of-cltv"></a><span data-ttu-id="fc1b5-223">הגדרה של CLTV</span><span class="sxs-lookup"><span data-stu-id="fc1b5-223">Definition of CLTV</span></span>

<span data-ttu-id="fc1b5-224">בדוגמה זו אנו מגדירים את ה- CLTV של לקוח כסכום הכולל בדולרים שהלקוח צפוי להוציא במהלך 365 הימים הקרובים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-224">For this example, we define the CLTV of a customer as the total dollar amount the customer is expected to spend in the next 365 days.</span></span> <span data-ttu-id="fc1b5-225">נשתמש בנתונים של שלוש השנים האחרונות עבור כל הלקוחות כדי לחזות ערך זה.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-225">We are going to use the past three years’ worth of data for all customers to predict this value.</span></span>

### <a name="featurization"></a><span data-ttu-id="fc1b5-226">יצירת תכונות</span><span class="sxs-lookup"><span data-stu-id="fc1b5-226">Featurization</span></span>

<span data-ttu-id="fc1b5-227">במקרה זה, יצירת התכונות תהיה דומה לתסריט הנטישה.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-227">In this case, featurization is going to be quite like the churn scenario.</span></span> <span data-ttu-id="fc1b5-228">עם זאת, התוויות והערכים החזויים שונים מהגדרתם לעיל.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-228">However, the labels and predicted values are different than defined above.</span></span>

### <a name="model-selection"></a><span data-ttu-id="fc1b5-229">בחירה במודל</span><span class="sxs-lookup"><span data-stu-id="fc1b5-229">Model selection</span></span>

<span data-ttu-id="fc1b5-230">חיזוי ה- CLTV הוא בעיית רגרסיה, שכן הערך החזוי הוא משתנה רציף מוערך חיובי.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-230">Predicting the CLTV is a regression problem as the predicted value is a positive valued continuous variable.</span></span> <span data-ttu-id="fc1b5-231">בהתבסס על מאפייני התכונה, אנו בוחרים **רגרסיה משופרת של עץ החלטות** כאלגוריתם אחד ובאפשרות **רגרסיה של רשת נוירונים** כאלגוריתם נוסף לאימון המודל.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-231">Based on the feature properties, we select **Boosted Decision Tree Regression** as one algorithm and **Neural Network Regression** as another algorithm to train the model.</span></span>

## <a name="product-recommendation-or-next-best-action"></a><span data-ttu-id="fc1b5-232">המלצה על מוצר או על הפעולה הבאה הטובה ביותר</span><span class="sxs-lookup"><span data-stu-id="fc1b5-232">Product recommendation or Next Best Action</span></span>

<span data-ttu-id="fc1b5-233">המלצה על מוצר בתרחיש של מלונות מתפרשת כהמלצה על שירותים שמציע המלון למען הלקוחות.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-233">Product recommendation in a hotel scenario is interpreted as recommending services offered by the hotel to the customers.</span></span> <span data-ttu-id="fc1b5-234">המטרה היא לבחור את השירותים המתאימים ללקוחות כך שהשימוש בהם יהיה מירבי.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-234">The objective is to choose the appropriate services for customers so that their usage is maximized.</span></span> <span data-ttu-id="fc1b5-235">זה דומה להמלצות על סרטים למשתמשים בשירותי הזרמת וידאו.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-235">It’s similar to movie recommendations for video streaming service users.</span></span>

### <a name="definition-of-product-recommendation-or-next-best-action"></a><span data-ttu-id="fc1b5-236">הגדרה של המלצה על מוצר או על הפעולה הבאה הטובה ביותר</span><span class="sxs-lookup"><span data-stu-id="fc1b5-236">Definition of Product Recommendation or Next Best Action</span></span>

<span data-ttu-id="fc1b5-237">אנו מגדירים את המטרה כמקסום הסכום בדולרים לשירות על ידי הצעת השירותים התואמים הטובים ביותר ללקוחות המלונות בהתאם לאינטרס שלהם.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-237">We define the goal as maximizing the dollar amount of service usage by offering the best matching services to hotel customers according to their interest.</span></span>

### <a name="featurization"></a><span data-ttu-id="fc1b5-238">יצירת תכונות</span><span class="sxs-lookup"><span data-stu-id="fc1b5-238">Featurization</span></span>

<span data-ttu-id="fc1b5-239">בדומה למודל הנטישה, אנו מצרפים את hotel ServiceCustomerID ל- CustomerID על מנת לבנות באופן עקבי המלצות לפי מזהה הלקוח.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-239">Like the churn model, we are joining the hotel ServiceCustomerID with CustomerID in order to build recommendations consistently per CustomerID.</span></span>

![יצירת תכונות של מודל ההמלצות](media/azure-machine-learning-model-featurization.png)

<span data-ttu-id="fc1b5-241">הנתונים מקורם משלוש ישויות שונות והתכונות הנגזרות מהן.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-241">The data is sourced from three different entities and features are derived from them.</span></span> <span data-ttu-id="fc1b5-242">יצירת תכונות לבעיית ההמלצה שונה בהשוואה לתרחישים של מודל הנטישה או CLTV.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-242">The featurization for the problem of recommendation is different compared to churn or CLTV scenarios.</span></span> <span data-ttu-id="fc1b5-243">מודל ההמלצה זקוק לנתוני קלט בצורה של שלוש קבוצות של תכונות.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-243">The recommendation model needs input data in the form of three sets of features.</span></span>

### <a name="model-selection"></a><span data-ttu-id="fc1b5-244">בחירה במודל</span><span class="sxs-lookup"><span data-stu-id="fc1b5-244">Model selection</span></span>

<span data-ttu-id="fc1b5-245">אנו חוזים מוצרים או שירותים על-ידי שימוש באלגוריתם הנקרא **אימון ממליץ בשיטת קופסת הגפרורים** כדי לאמן את מודל ההמלצות.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-245">We predict products or services by using the algorithm called **Train Matchbox Recommender** to train the recommendation model.</span></span>

![האלגוריתם של 'המלצות על מוצרים'](media/azure-machine-learning-model-recommendation-algorithm.png)

<span data-ttu-id="fc1b5-247">שלוש יציאות הקלט עבור המודל **אימון ממליץ בשיטת קופסת הגפרורים** לוקחות את נתוני השימוש בשירותי האימון, את תיאור הלקוחות (לא חובה) ואת תיאור השירותים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-247">The three input ports for the **Train Matchbox Recommender** model takes in the training service usage data, customer description (optional), and service description.</span></span> <span data-ttu-id="fc1b5-248">יש שלוש דרכים שונות לניקוד המודל.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-248">There are three different ways of scoring the model.</span></span> <span data-ttu-id="fc1b5-249">אחת מיועדת להערכת מודל שבה מחושב ניקוד רווח מצטבר מוזל (NDCG) כדי לדרג את הפריטים המדורגים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-249">One is for model evaluation where a Normalized Discounted Cumulative Gain (NDCG) score is calculated to rank the rated items.</span></span> <span data-ttu-id="fc1b5-250">בניסוי זה, ציון ה- NDCG הוא 0.97.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-250">In this experiment, we have the NDCG score as 0.97.</span></span> <span data-ttu-id="fc1b5-251">שתי האפשרויות האחרות הן ניקוד המודל בכל קטלוג השירותים המומלץ, או ניקוד רק של פריטים שמשתמשים לא השתמשו בהם קודם.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-251">The other two options are scoring the model on the entire recommendable service catalog, or scoring only on items that users have not used before.</span></span>

<span data-ttu-id="fc1b5-252">בבחינה נוספת של התפלגות ההמלצות בקטלוג השירותים כולו, ניתן לראות כי הטלפון, ה- WiFi והשליח הם השירותים המובילים המומלצים.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-252">Looking further on the distributions of the recommendations on the entire service catalog, we notice that phone, WiFi, and courier are the top services to be recommended.</span></span> <span data-ttu-id="fc1b5-253">זה תואם את מה שמצאנו מההפצות של נתוני צריכת השירות:</span><span class="sxs-lookup"><span data-stu-id="fc1b5-253">This is consistent with what we found from the distributions of the service consumption data:</span></span>

![פלט של מודל ההמלצות](media/azure-machine-learning-model-output.png)

<span data-ttu-id="fc1b5-255">ניתן לגשת [לכל הניסוי של המלצות על מוצרים בגלריית ה- AI של Azure.](https://gallery.azure.ai/Experiment/Recommendation-4)</span><span class="sxs-lookup"><span data-stu-id="fc1b5-255">The entire [product recommendation experiment can be accessed in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span></span>

## <a name="integrate-custom-models"></a><span data-ttu-id="fc1b5-256">שילוב מודלים מותאמים אישית</span><span class="sxs-lookup"><span data-stu-id="fc1b5-256">Integrate custom models</span></span>

<span data-ttu-id="fc1b5-257">כדי להשתמש בתחזיות אלה ב- Customer Insights, עליך לבצע **ייצוא** של התחזיות יחד עם מזהי הלקוחות.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-257">To use these predictions in Customer Insights, you need to **export** the predictions along with the customer IDs.</span></span> <span data-ttu-id="fc1b5-258">[יצא אותן לאותו מיקום אחסון של Azure Blob](/azure/storage/common/storage-import-export-data-from-blobs) שאליו אתה מייצא את נתוני המקור.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-258">[Export them to the same Azure Blob storage location](/azure/storage/common/storage-import-export-data-from-blobs) that you export the source data to.</span></span> <span data-ttu-id="fc1b5-259">ניתן לתזמן את שירות האינטרנט החזוי לפעול באופן קבוע ולעדכון הניקוד.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-259">The predictive web service can be scheduled to run regularly and update the scores.</span></span>

<span data-ttu-id="fc1b5-260">ניתן להשתמש בנתונים שנוצרו על-ידי המודל המותאם אישית להעשרת נתוני הלקוחות שלך.</span><span class="sxs-lookup"><span data-stu-id="fc1b5-260">Data generated by the custom model can be used to further enrich your customer data.</span></span> <span data-ttu-id="fc1b5-261">למידע נוסף ראה [דגמי למידת מכונה מותאמים אישית](custom-models.md).</span><span class="sxs-lookup"><span data-stu-id="fc1b5-261">For more information, see [Custom machine learning models](custom-models.md).</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]